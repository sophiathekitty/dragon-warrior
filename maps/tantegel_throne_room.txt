type:map,edges:0═000000000000
0ffffffffff0
0f11111111f0
0f1GGGGGG1f0
0f1G1GG1G1f0
0f11111111f0
0f11111111f0
0f11111111f0
0ffff1fffff0
0f11111112f0
0ffffffffff0
000000000000║type:npc,character:king,name:King Lorik,x:4,y:4═action:Talk;if:bools.intro=false;set:bools.intro=true;say:Descendant of Erdrick, listen now to my words. It is told that in ages past Erdrick fought demons with a Ball of Light. Then came the Dragonlord who stole the precious globe and hid it in the darkness. Now, Hero, thou must help us recover the Ball of Light and restore peace to our land. The Dragonlord must be defeated. Take now whatever thou may find in these Treasure Chests to aid thee in thy quest. Then speak with the guards, for they have much knowledge that may aid thee. May the light shine upon thee, Hero.;elseif:bools.intro2=false;say:When thou art finished preparing for thy departure, please see me. I shall wait.;else;say:I am greatly pleased that thou hast returned, Hero.;═action:Save;SaveGame;
║type:npc,character:knight,name:Sir Left,x:4,y:7,direction:up═action:Talk;say:East of this castle is a town where armor, weapons, and many other items may be purchased. Return to the Inn for a rest if thou art wounded in battle, Hero. Sleep heals all.;
║type:npc,character:knight,name:Sir Right,x:6,y:7,direction:up═action:Talk;say:If thou hast collected all the Treasure Chests, a key will be found. Once used, the key will disappear, but the door will be open and thou may pass through.;
║type:npc,character:knight,name:Sir Walking,x:7,y:7,direction:up,walk:true═action:Talk;ask:Dost thou know about Princess Gwaelin?;═no:Talk;say:Half a year now hath passed since the Princess was kidnapped by the enemy. Never does the King speak of it, but he must be suffering much. Hero, please save the Princess.;═yes:Talk;say:Hero, please save the Princess.;
║type:npc,character:chest,name:chest,x:5,y:5═visible:bools.chest1:true═action:Take;add:player.gold=120;set:bools.chest1=false;set:visible=false;say:thou hast gained 120 gold;
║type:npc,character:chest,name:chest,x:6,y:5═visible:bools.chest2:true═action:Take;give:Torch;set:bools.chest2=false;set:visible=false;say:thou hast gained a torch;
║type:npc,character:chest,name:chest,x:7,y:2═visible:bools.chest3:true═action:Take;add:player.keys=1;set:bools.chest3=false;set:visible=false;say:thou hast gained a key;
║type:npc,character:door,name:door,x:5,y:8═visible:bools.door1:true═action:Door;if:player.keys>0;sub:player.keys=1;set:bools.door1=false;set:bools.intro2=true;set:visible=false;else;say:Thou hast not a key to use.;
║type:exit,exit:stairs,map:tantegel,x:9,y:9,targetX:7,targetY:7
║type:exit,exit:edge,map:outworld,x:-1,y:-1,targetX:46,targetY:46
║type:npc,character:chest,name:cheats,x:2,y:9═action:Keys;add:player.keys=10;say:thou hast gained 10 keys;═action:Golds;add:player.gold=100000;say:thou hast gained 100,000 gold;
═action:Level;
    add:player.level=1;
    if:player.level>30;
        player.level=30;
        say:Thou hast already reached the max level.;
    endif;
    if:player.level=2;
        set:playerMax.xp=23;
        add:playerMax.hp=7;
        add:playerMax.strength=1;
        run:CalculatePlayerStats;
        say:Courage and wit have served thee well. Thou hast been promoted to the next level. Thy power increases by 1. Thy Maximum Hit Points increase by 7.;
    endif;
    if:player.level=3;
        set:playerMax.xp=47;
        add:playerMax.strength=2;
        add:playerMax.agility=2;
        add:playerMax.hp=2;
        add:playerMax.mp=7;
        run:CalculatePlayerStats;
        say:Courage and wit have served thee well. Thou hast been promoted to the next level. Thy power increases by 1. Thy Maximum Hit Points increase by 7.;
    endif;
    if:player.level=4;
        set:playerMax.xp=110;
        add:playerMax.strength=2;
        add:playerMax.agility=2;
        add:playerMax.hp=2;
        add:playerMax.mp=7;
        run:CalculatePlayerStats;
        say:Courage and wit have served thee well. Thou hast been promoted to the next level. Thy Response Speed increases by 2. Thy Maximum Hit Points increase by 7. Thy Maximum Magic Points increase by 10. Thou hast learned a new spell.;
    endif;
    if:player.level=5;
        set:playerMax.xp=220;
        add:playerMax.strength=5;
        add:playerMax.agility=2;
        add:playerMax.hp=4;
        add:playerMax.mp=4;
        run:CalculatePlayerStats;
        say:Courage and wit have served thee well. Thou hast been promoted to the next level. Thy power increases by 5. Thy Response Speed increases by 2. Thy Maximum Hit Points increase by 4. Thy Maximum Magic Points increase by 4.;
    endif;
    if:player.level=6;
        set:playerMax.xp=450;
        add:playerMax.strength=4;
        add:playerMax.hp=3;
        add:playerMax.mp=3;
        run:CalculatePlayerStats;
        say:Courage and wit have served thee well. Thou hast been promoted to the next level. Thy power increases by 4. Thy Maximum Hit Points increase by 3. Thy Maximum Magic Points increase by 3.;
    endif;
    if:player.level=7;
        set:playerMax.xp=800;
        add:playerMax.strength=2;
        add:playerMax.agility=6;
        add:playerMax.hp=2;
        add:playerMax.mp=2;
        run:CalculatePlayerStats;
        say:Courage and wit have served thee well. Thou hast been promoted to the next level. Thy power increases by 2. Thy Response Speed increases by 6. Thy Maximum Hit Points increase by 2. Thy Maximum Magic Points increase by 2. Thou hast learned a new spell.;
    endif;
    if:player.level=8;
        set:playerMax.xp=1300;
        add:playerMax.strength=4;
        add:playerMax.agility=3;
        add:playerMax.hp=6;
        add:playerMax.mp=3;
        run:CalculatePlayerStats;
        say:Courage and wit have served thee well. Thou hast been promoted to the next level. Thy power increases by 4. Thy Response Speed increases by 3. Thy Maximum Hit Points increase by 6. Thy Maximum Magic Points increase by 3.;
    endif;
    if:player.level=9;
        set:playerMax.xp=2000;
        add:playerMax.strength=8;
        add:playerMax.agility=1;
        add:playerMax.hp=4;
        add:playerMax.mp=6;
        run:CalculatePlayerStats;
        say:Courage and wit have served thee well. Thou hast been promoted to the next level. Thy power increases by 8. Thy Response Speed increases by 1. Thy Maximum Hit Points increase by 4. Thy Maximum Magic Points increase by 6. Thou hast learned a new spell.;
    endif;
    if:player.level=10;
        set:playerMax.xp=2900;
        add:playerMax.strength=5;
        add:playerMax.agility=8;
        add:playerMax.hp=4;
        add:playerMax.mp=4;
        run:CalculatePlayerStats;
        say:Courage and wit have served thee well. Thou hast been promoted to the next level. Thy power increases by 5. Thy Response Speed increases by 8. Thy Maximum Hit Points increase by 4. Thy Maximum Magic Points increase by 4. Thou hast learned a new spell.;
    endif;
    if:player.level=11;
        set:playerMax.xp=4000;
        add:playerMax.strength=5;
        add:playerMax.agility=4;
        add:playerMax.hp=8;
        add:playerMax.mp=9;
        run:CalculatePlayerStats;
        say: Courage and wit have served thee well. Thou hast been promoted to the next level. Thy power increases by 5. Thy Response Speed increases by 4. Thy Maximum Hit Points increase by 8. Thy Maximum Magic Points increase by 9.;
    endif;
    if:player.level=12;
        set:playerMax.xp=5500;
        add:playerMax.strength=8;
        add:playerMax.agility=5;
        add:playerMax.hp=1;
        add:playerMax.mp=7;
        run:CalculatePlayerStats;
        sayCourage and wit have served thee well. Thou hast been promoted to the next level. Thy power increases by 8. Thy Response Speed increases by 5. Thy Maximum Hit Point increase by 1. Thy Maximum Magic Points increase by 7. Thou hast learned a new spell.;
    endif;
    if:player.level=13;
        set:playerMax.xp=7500;
        add:playerMax.strength=4;
        add:playerMax.agility=7;
        add:playerMax.hp=7;
        add:playerMax.mp=5;
        run:CalculatePlayerStats;
        sayCourage and wit have served thee well. Thou hast been promoted to the next level. Thy power increases by 4. Thy Response Speed increases by 7. Thy Maximum Hit Points increase by 7. Thy Maximum Magic Points increase by 5. Thou hast learned a new spell.;
    endif;
    if:player.level=14;
        set:playerMax.xp=10000;
        add:playerMax.strength=8;
        add:playerMax.agility=6;
        add:playerMax.hp=8;
        add:playerMax.mp=6;
        run:CalculatePlayerStats;
        say:Courage and wit have served thee well. Thou hast been promoted to the next level. Thy power increases by 8. Thy Response Speed increases by 6. Thy Maximum Hit Points increase by 8. Thy Maximum Magic Points increase by 6.;
    endif;
    if:player.level=15;
        set:playerMax.xp=13000;
        add:playerMax.strength=8;
        add:playerMax.agility=8;
        add:playerMax.hp=8;
        add:playerMax.mp=1;
        run:CalculatePlayerStats;
        say:Courage and wit have served thee well. Thou hast been promoted to the next level. Thy power increases by 8. Thy Response Speed increases by 8. Thy Maximum Hit Points increase by 8. Thy Maximum Magic Point increase by 1. Thou hast learned a new spell.;
    endif;
    if:player.level=16;
        set:playerMax.xp=16000;
        add:playerMax.strength=4;
        add:playerMax.agility=6;
        add:playerMax.hp=6;
        add:playerMax.mp=21;
        run:CalculatePlayerStats;
        say: Courage and wit have served thee well. Thou hast been promoted to the next level. Thy power increases by 4. Thy Response Speed increases by 6. Thy Maximum Hit Points increase by 6. Thy Maximum Magic Points increase by 21.;
    endif;
    if:player.level=17;
        set:playerMax.xp=19000;
        add:playerMax.agility=7;
        add:playerMax.hp=8;
        add:playerMax.mp=5;
        run:CalculatePlayerStats;
        say:Courage and wit have served thee well. Thou hast been promoted to the next level. Thy Response Speed increases by 7. Thy Maximum Hit Points increase by 8. Thy Maximum Magic Points increase by 5. Thou hast learned a new spell.;
    endif;
    if:player.level=18;
        set:playerMax.xp=22000;
        add:playerMax.strength=13;
        add:playerMax.agility=5;
        add:playerMax.hp=15;
        add:playerMax.mp=7;
        run:CalculatePlayerStats;
        say:Courage and wit have served thee well. Thou hast been promoted to the next level. Thy power increases by 13. Thy Response Speed increases by 5. Thy Maximum Hit Points increase by 15. Thy Maximum Magic Points increase by 7.;
    endif;
    if:player.level=19;
        set:playerMax.xp=26000;
        add:playerMax.strength=2;
        add:playerMax.agility=2;
        add:playerMax.hp=15;
        add:playerMax.mp=6;
        run:CalculatePlayerStats;
        say:Courage and wit have served thee well. Thou hast been promoted to the next level. Thy power increases by 2. Thy Response Speed increases by 2. Thy Maximum Hit Points increase by 15. Thy Maximum Magic Points increase by 6. Thou hast learned a new spell.;
    endif;
    if:player.level>19;
        setto:ints.xpIncrease=playerMax.xp;
        div:ints.xpIncrease=7;
        add:playerMax.xp=ints.xpIncrease;
        rand:ints.hpIncrease=2,15;
        add:playerMax.hp=ints.hpIncrease;
        rand:ints.mpIncrease=2,20;
        add:playerMax.mp=ints.mpIncrease;
        rand:ints.agilityIncrease=2,8;
        add:playerMax.agility=ints.agilityIncrease;
        rand:ints.strengthIncrease=2,10;
        add:playerMax.strength=ints.strengthIncrease;
        run:CalculatePlayerStats;
        say:Courage and wit have served thee well. Thou hast been promoted to the next level. Thy power increases by ints.strengthIncrease. Thy Response Speed increases by ints.agilityIncrease. Thy Maximum Hit Points increase by ints.hpIncrease. Thy Maximum Magic Points increase by ints.mpIncrease.;